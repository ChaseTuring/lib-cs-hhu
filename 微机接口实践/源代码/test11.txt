CODE SEGMENT
ASSUME CS:CODE
ORG 1000H
START:JMP INIT
DATA DW 653D,262D,294D,330D,349D,392D,440D,494D,523D,587D,653D
INIT:MOV DX,0063H
MOV AL,80H
OUT DX,AL
MOV AL,0B6H
OUT 4BH,AL
AGAIN:MOV DX,0DFH
IN AL,DX
AND AL,01H
JZ AGAIN
MOV CX,0FFFH
LOOP $
MOV DX,0DEH
IN AL,DX
CMP AL,9D
JG AGAIN
GONZ:MOV BL,2D
MUL BL
MOV BL,AL
MOV BH,0
MOV CX,DATA[BX]
MOV DX,00FH
MOV AX,4240H
DIV CX
OUT 4AH,AL
MOV AL,AH
OUT 4AH,AL
CALL OPEN
MOV CX,8FFFH
LOOP $
CALL CLOSE
JMP AGAIN
OPEN PROC
MOV AL,00000001B
OUT 61H,AL
RET
OPEN ENDP
CLOSE PROC
MOV AL,0
OUT 61H,AL
RET
CLOSE ENDP
CODE ENDS
END START
     







CODE SEGMENT
ASSUME CS:CODE
ORG 1000H
START:JMP INIT
DATA DW 653D,262D,294D,330D,349D,392D,440D,494D,523D,587D,653D
INIT:MOV DX,0063H     ;≥ı ºªØ
     MOV AL,80H
     OUT DX,AL
     MOV AL,0B6H
     OUT 4BH,AL
AGAIN:MOV DX,0DFH
     IN AL,DX
     AND AL,01H
     JZ AGAIN
     MOV CX,0FFFH
     LOOP $
     MOV DX,0DEH
     IN AL,DX
     CMP AL,9D
     JG AGAIN
GONZ:MOV BL,2D
     MUL BL
     MOV BL,AL
     MOV BH,0
     MOV CX,DATA[BX]
     MOV DX,00FH
     MOV AX,4240H
     DIV CX
     OUT 4AH,AL
     MOV AL,AH
     OUT 4AH,AL
     CALL OPEN
     MOV CX,8FFFH     ;—”≥§
     LOOP $
     CALL CLOSE
     JMP AGAIN
OPEN PROC